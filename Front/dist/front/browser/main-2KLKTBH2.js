import{A as T,B as N,C as I,D as F,E as W,F as j,G as R,H as V,I as h,J as z,a as s,b as M,c as S,d as l,e as p,f as c,g as u,h as n,i,j as P,k,l as g,m as d,n as r,o as f,p as v,q as _,r as b,s as C,t as w,u as O,v as y,w as L,x as E,y as A,z as D}from"./chunk-DPCOZ3LR.js";function K(t,Y){if(t&1&&(n(0,"div",5),r(1),i()),t&2){let e=d();l(),f(e.error)}}var B=(()=>{class t{constructor(e,a,o){this.auth=e,this.router=a,this.usersService=o,this.login="",this.password="",this.error=""}submit(){this.auth.login(this.login,this.password).subscribe(e=>{e?this.router.navigate(["/pollution/list"]):this.error="Identifiants invalides"})}static{this.\u0275fac=function(a){return new(a||t)(p(h),p(L),p(V))}}static{this.\u0275cmp=s({type:t,selectors:[["app-login"]],standalone:!0,features:[C],decls:15,vars:3,consts:[[1,"login-container"],[3,"ngSubmit"],[1,"form-group"],["name","login",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"error"],["type","submit",1,"btn","btn-primary"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"h2"),r(2,"Connexion"),i(),n(3,"form",1),g("ngSubmit",function(){return o.submit()}),n(4,"div",2)(5,"label"),r(6,"Login"),i(),n(7,"input",3),b("ngModelChange",function(m){return _(o.login,m)||(o.login=m),m}),i()(),n(8,"div",2)(9,"label"),r(10,"Mot de passe"),i(),n(11,"input",4),b("ngModelChange",function(m){return _(o.password,m)||(o.password=m),m}),i()(),c(12,K,2,1,"div",5),n(13,"button",6),r(14,"Se connecter"),i()()()),a&2&&(l(7),v("ngModel",o.login),l(4),v("ngModel",o.password),l(),u(12,o.error?12:-1))},dependencies:[R,j,T,N,I,W,F],styles:[".login-container[_ngcontent-%COMP%]{max-width:420px;margin:24px auto;padding:16px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #00000014}.form-group[_ngcontent-%COMP%]{margin-bottom:12px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px}.error[_ngcontent-%COMP%]{color:#b00020;margin-bottom:8px}"]})}}return t})();var U=[{path:"login",component:B},{path:"",redirectTo:"/pollution/list",pathMatch:"full"},{path:"pollution",loadChildren:()=>import("./chunk-VGYS37CY.js").then(t=>t.PollutionModule)},{path:"**",redirectTo:"/pollution/list"}];var G={providers:[D(U),w()]};function Q(t,Y){if(t&1){let e=k();n(0,"div",7)(1,"span"),r(2),i(),n(3,"button",10),g("click",function(){M(e);let o=d();return S(o.logout())}),r(4,"Se d\xE9connecter"),i()()}if(t&2){let e=d();l(2),f(e.userName)}}var H=(()=>{class t{constructor(e){this.auth=e,this.title="Pollution Tracker",this.userName=""}ngOnInit(){this.auth.getCurrentUser().subscribe(e=>{this.userName=e?`${e.firstname} ${e.lastname}`:""})}logout(){this.auth.logout()}static{this.\u0275fac=function(a){return new(a||t)(p(h))}}static{this.\u0275cmp=s({type:t,selectors:[["app-root"]],standalone:!0,features:[C],decls:18,vars:1,consts:[[1,"app-container"],[1,"navbar"],[1,"navbar-brand"],[1,"navbar-menu"],["routerLink","/pollution/list","routerLinkActive","active",1,"nav-link"],["routerLink","/pollution/report","routerLinkActive","active",1,"nav-link"],["routerLink","/login","routerLinkActive","active",1,"nav-link"],[1,"nav-user"],[1,"main-content"],[1,"footer"],[1,"btn","btn-link",3,"click"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h1"),r(4,"\u{1F30D} Pollution Tracker"),i()(),n(5,"div",3)(6,"a",4),r(7," \u{1F4CB} Liste des pollutions "),i(),n(8,"a",5),r(9," \u2795 Signaler une pollution "),i(),n(10,"a",6),r(11," \u{1F510} Connexion "),i(),c(12,Q,5,1,"div",7),i()(),n(13,"main",8),P(14,"router-outlet"),i(),n(15,"footer",9)(16,"p"),r(17," \xA9 2025 Pollution Tracker - Application de signalement de pollutions "),i()()()),a&2&&(l(12),u(12,o.userName?12:-1))},dependencies:[y,E,A,z],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background-color:#f5f6fa}.navbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.9375rem 1.875rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 .25rem .75rem #00000026}.navbar-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin:0}.navbar-menu[_ngcontent-%COMP%]{display:flex;gap:1.25rem}.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:.625rem 1.25rem;border-radius:.375rem;font-weight:500;transition:all .3s;background:#ffffff1a}.nav-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-.125rem)}.nav-link.active[_ngcontent-%COMP%]{background:#ffffff4d;font-weight:700}.main-content[_ngcontent-%COMP%]{flex:1;padding:1.25rem;max-width:100%}.footer[_ngcontent-%COMP%]{background:#2c3e50;color:#fff;text-align:center;padding:1.25rem;margin-top:auto}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}@media (max-width: 48rem){.navbar[_ngcontent-%COMP%]{flex-direction:column;gap:.9375rem;padding:.9375rem 1.25rem}.navbar-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.navbar-menu[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:.625rem}.nav-link[_ngcontent-%COMP%]{text-align:center}.main-content[_ngcontent-%COMP%]{padding:.625rem}}"]})}}return t})();O(H,G).catch(t=>console.error(t));
